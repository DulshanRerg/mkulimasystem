{% extends 'landing_page.html' %}
{% load static %}

{% block title %}Sign Up{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-card">
        <h2>Sign Up</h2>
        <form method="post" id="signup-form">
            {% csrf_token %}
            <span id="username-valid" style="display: none; color: green;">âœ”</span>
            {{ form.as_p }}
            <button type="submit" class="btn-primary">Sign Up</button>
        </form>
        <p class="switch-link">Already have an account? <a href="{% url 'accounts:login' %}">Login</a></p>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const usernameInput = document.getElementById('id_username');
        const usernameValid = document.getElementById('username-valid');
        const usernameRegex = /^[a-zA-Z0-9]+$/;

        usernameInput.addEventListener('input', function() {
            if (usernameRegex.test(usernameInput.value)) {
                usernameValid.style.display = 'inline';
            } else {
                usernameValid.style.display = 'none';
            }
        });
    });
</script>
{% endblock %}
